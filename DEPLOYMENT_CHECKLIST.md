# ðŸ“‹ Ubuntu Server Deployment Checklist

Use this checklist to ensure a complete and secure deployment of Karuwa Takeaway on Ubuntu Server.

## Pre-Deployment

- [ ] Ubuntu Server 20.04 LTS or newer installed
- [ ] Root or sudo access available
- [ ] SSH access configured
- [ ] Server has at least 1GB RAM and 10GB disk space
- [ ] Domain name configured (optional, but recommended for production)
- [ ] DNS records pointing to server IP (if using domain)

## Deployment

- [ ] Files transferred to server or Git repository accessible
- [ ] Ran deployment script: `sudo ./deploy-ubuntu.sh` or `./quick-start-ubuntu.sh`
- [ ] Node.js 20.x installed successfully
- [ ] PM2 installed and configured
- [ ] Application dependencies installed
- [ ] Frontend and backend started successfully
- [ ] PM2 shows both processes as "online"

## Configuration

- [ ] Updated `backend/.env` with secure credentials
- [ ] Changed default admin password from "changeme123"
- [ ] Generated secure JWT_SECRET (auto-generated by script)
- [ ] Configured email settings (SMTP credentials)
- [ ] Set correct `RESTAURANT_EMAIL` for order notifications
- [ ] Verified `VITE_API_URL` in `.env.local` points to correct backend URL

## Security

- [ ] Changed default admin password
- [ ] Using strong JWT secret (minimum 32 characters)
- [ ] Firewall (UFW) configured and enabled
- [ ] SSH configured with key-based authentication (recommended)
- [ ] Disabled password authentication for SSH (recommended)
- [ ] Installed fail2ban for brute-force protection (recommended)
- [ ] Regular security updates scheduled

## SSL/HTTPS (Production)

- [ ] Nginx installed and configured
- [ ] Domain name configured in Nginx
- [ ] Certbot installed
- [ ] SSL certificate obtained from Let's Encrypt
- [ ] HTTPS working correctly
- [ ] HTTP to HTTPS redirect configured
- [ ] SSL certificate auto-renewal tested

## Database

- [ ] SQLite database created successfully
- [ ] Database file has correct permissions (644)
- [ ] Database backup script created
- [ ] Automated daily backups configured (cron job)
- [ ] Backup retention policy set (e.g., keep last 7 days)
- [ ] Tested database restore procedure

## Monitoring & Maintenance

- [ ] PM2 configured to start on system boot
- [ ] PM2 logs directory created
- [ ] Health check script tested: `./health-check.sh`
- [ ] Automated health checks configured (cron job every 5 minutes)
- [ ] Log rotation configured
- [ ] Disk space monitoring set up
- [ ] Memory usage monitoring set up

## Testing

- [ ] Frontend accessible at `http://your-server-ip:3000` (or domain)
- [ ] Backend API responding at `http://your-server-ip:3001`
- [ ] Can log in to admin panel
- [ ] Can create/edit menu items
- [ ] Can place test order
- [ ] Email notifications working (if configured)
- [ ] All pages load correctly
- [ ] No console errors in browser
- [ ] Mobile responsiveness verified

## Performance

- [ ] Frontend built for production (if applicable)
- [ ] Nginx gzip compression enabled
- [ ] Static assets cached properly
- [ ] Database queries optimized
- [ ] PM2 memory limits configured
- [ ] Server resources monitored

## Backup & Recovery

- [ ] Database backup script working
- [ ] Automated backups running daily
- [ ] Backup files stored securely
- [ ] Tested database restore from backup
- [ ] Environment files backed up securely
- [ ] Recovery procedure documented

## Documentation

- [ ] Server access credentials documented securely
- [ ] Admin credentials stored in password manager
- [ ] Email configuration documented
- [ ] Custom configurations documented
- [ ] Deployment date and version recorded
- [ ] Team members have access to documentation

## Post-Deployment

- [ ] Verified application is accessible from external network
- [ ] Tested all critical user flows
- [ ] Monitored logs for first 24 hours
- [ ] No errors in PM2 logs
- [ ] No errors in Nginx logs (if applicable)
- [ ] Performance metrics within acceptable range
- [ ] Notified stakeholders of successful deployment

## Optional Enhancements

- [ ] Set up CDN for static assets (Cloudflare, etc.)
- [ ] Configure monitoring service (UptimeRobot, Pingdom, etc.)
- [ ] Set up error tracking (Sentry, etc.)
- [ ] Configure analytics (Google Analytics, etc.)
- [ ] Set up staging environment
- [ ] Configure CI/CD pipeline
- [ ] Set up automated testing
- [ ] Configure backup to cloud storage (S3, etc.)

## Maintenance Schedule

- [ ] Weekly: Review logs and performance metrics
- [ ] Weekly: Check disk space and clean old logs
- [ ] Monthly: Update system packages: `sudo apt-get update && sudo apt-get upgrade`
- [ ] Monthly: Update Node.js dependencies: `npm update`
- [ ] Monthly: Review and rotate database backups
- [ ] Quarterly: Review security settings
- [ ] Quarterly: Test disaster recovery procedure
- [ ] Yearly: Renew SSL certificate (auto-renewed by Let's Encrypt)

---

## Quick Commands Reference

### Check Application Status
```bash
pm2 status
./health-check.sh
```

### View Logs
```bash
pm2 logs
sudo tail -f /var/log/nginx/error.log  # If using Nginx
```

### Restart Application
```bash
pm2 restart all
```

### Update Application
```bash
./update-ubuntu.sh
```

### Backup Database
```bash
cp backend/karuwa.db backend/karuwa.db.backup-$(date +%Y%m%d)
```

### Check Disk Space
```bash
df -h
```

### Check Memory Usage
```bash
free -h
```

---

## Emergency Contacts

- **Server Provider Support:** _________________
- **Domain Registrar Support:** _________________
- **Technical Lead:** _________________
- **On-Call Developer:** _________________

---

## Notes

_Use this space to document any custom configurations or important information specific to your deployment:_

---

**Deployment Date:** _______________  
**Deployed By:** _______________  
**Server IP:** _______________  
**Domain:** _______________  
**Version:** _______________

---

âœ… **Deployment Complete!** All items checked = Production ready! ðŸš€
